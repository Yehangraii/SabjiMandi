<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Sabji Mandi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/footer.css">
    <script src="https://kit.fontawesome.com/588548ae49.js" crossorigin="anonymous"></script>


</head>

<body>
    <section class="container pt-5">
        <div class="row">
            <div class="col-md-7 table-responsive">
                <table class="table"
                    style="background-color: aliceblue; box-shadow: -5px 10px 5px 1px rgba(0,0,0,0.3);">
                    <thead>
                        <tr>
                            <th scope="col">Product Id</th>
                            <th scope="col">Name</th>
                            <th scope="col">Picture</th>

                            <th scope="col">Price per item</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">{{product.product_id}}</th>
                            <td>{{product.product_name}}</td>
                            <td><img src="/static/media/{{product.product_picture}}" height="100" width="100"></td>
                            <td>{{product.product_price}}</td>

                        </tr>

                    </tbody>
                </table>
            </div>
            <div class="col-md-5 pb-3"
                style="box-shadow: 10px 10px 5px 1px rgba(0,0,0,0.3); background-color: aliceblue;">
                {% for message in messages %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    <strong>{{message}}</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
                <form action="/buyfinal" class="row" method="POST">
                    {% csrf_token %}
                    <div class="col-12 mt-3">
                        <h3>Order Details</h3>
                    </div>
                    <div class="col-12 mt-2">
                        <div class="row">
                            <div class="col-4 text-center">
                                <strong>Phone No:</strong>
                            </div>
                            <div class="col-7">
                                <input class="form-control" style="border-radius:16px" name="phone_no" type="number"
                                    min="0" placeholder="Enter your phone number">
                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-3">
                        <div class="row">
                            <div class="col-4 text-center">
                                <strong>Address:</strong>
                            </div>
                            <div class="col-7">
                                <input class="form-control" style="border-radius:16px" type="text" min="0"
                                    name="address" placeholder="Enter your address">
                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-3">
                        <div class="row">
                            <div class="col-4 text-center">
                                <strong>Quantity:</strong>
                            </div>
                            <div class="col-7">

                                <div class="col-lg-5">
                                    <div class="input-group">
                                        <div class="input-group-text" id="addvalue" onclick="add()">+</div>
                                        <input type="text" class="form-control" id="Quantity" name="quantity" value="1"
                                            width="20px">
                                        <div class="input-group-text" id="subvalue" onclick="sub()">-</div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-3">
                        <div class="row">
                            <div class="col-4 text-center">
                                <strong>Payment Method:</strong>
                            </div>
                            <div class="col-7">
                                <input type="checkbox" class="me-sm-2" value="cashondelivery" name="payment_method"
                                    checked>Cash
                                on Delivery
                                
                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-3">
                        <div class="row">
                            <div class="col-4 text-center">
                                <strong>Shipping Date:</strong>
                            </div>
                            <div class="col-7">
                                <input type="text" style="border-radius:16px" name="order_date" class="form-control" placeholder="dd/mm/yyyy"> 
                            </div>
                        </div>
                        <div class="row">
                            <div class="offset-sm-6 col-3 mt-3">
                                <button class="btn btn-success" type="submit">Buy Item</button>
                            </div>
                            <div class="col-3 mt-3">
                                <a href="/home/" class="btn btn-danger">Cancel</a>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" name="customer_obj" value="sdfsd">
                                <input type="hidden" name="product_obj" value="1">
                </form>
            </div>

        </div>
    </section>
    <div style="margin-top :117px;">
        {% include 'footer/footer.html' %}</div>
    <script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script>
        let sum = 1
        function add() {
            sum = sum + 1
            document.getElementById("Quantity").value = sum
        }
        function sub() {
            if (sum > 1) {
                sum = sum - 1
                document.getElementById("Quantity").value = sum
            }
        }

    </script>

</body>

</html>